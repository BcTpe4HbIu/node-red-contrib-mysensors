<script type="text/javascript">
    RED.nodes.registerType('mysencap',{
        category: 'function',
        color: '#a6bbcf',
        defaults: {
            name: {value:""},
            nodeid: {value:0, required:true},
            childid: {value:0, required:true},
            subtype: {value:0, required:true}
        },
        inputs:1,
        outputs:1,
        icon: "envelope.png",
        label: function() {
            return this.name||"mysencap";
        }
    });
</script>

<script type="text/x-red" data-template-name="mysencap">
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">       
    </div>
    <div class="form-row">
        <label for="node-input-nodeid"><i class="icon-tag"></i> Node ID</label>
        <input type="text" id="node-input-nodeid" placeholder="NodeId">       
    </div>
    <div class="form-row">
        <label for="node-input-childid"><i class="icon-tag"></i> Child ID</label>
        <input type="text" id="node-input-childid" placeholder="Child id">       
    </div>
    <div class="form-row">
        <label for="node-input-subtype"><i class="icon-tag"></i> Child type</label>
        <select id="node-input-subtype">      
<option value="0">V_TEMP</option>
<option value="1">V_HUM</option>
<option value="2">V_STATUS</option>
<option value="2">V_LIGHT</option>
<option value="3">V_PERCENTAGE</option>
<option value="3">V_DIMMER</option>
<option value="4">V_PRESSURE</option>
<option value="5">V_FORECAST</option>
<option value="6">V_RAIN</option>
<option value="7">V_RAINRATE</option>
<option value="8">V_WIND</option>
<option value="9">V_GUST</option>
<option value="10">V_DIRECTION</option>
<option value="11">V_UV</option>
<option value="12">V_WEIGHT</option>
<option value="13">V_DISTANCE</option>
<option value="14">V_IMPEDANCE</option>
<option value="15">V_ARMED</option>
<option value="16">V_TRIPPED</option>
<option value="17">V_WATT</option>
<option value="18">V_KWH</option>
<option value="19">V_SCENE_ON</option>
<option value="20">V_SCENE_OFF</option>
<option value="21">V_HVAC_FLOW_STATE</option>
<option value="22">V_HVAC_SPEED</option>
<option value="23">V_LIGHT_LEVEL</option>
<option value="24">V_VAR1</option>
<option value="25">V_VAR2</option>
<option value="26">V_VAR3</option>
<option value="27">V_VAR4</option>
<option value="28">V_VAR5</option>
<option value="29">V_UP</option>
<option value="30">V_DOWN</option>
<option value="31">V_STOP</option>
<option value="32">V_IR_SEND</option>
<option value="33">V_IR_RECEIVE</option>
<option value="34">V_FLOW</option>
<option value="35">V_VOLUME</option>
<option value="36">V_LOCK_STATUS</option>
<option value="37">V_LEVEL</option>
<option value="38">V_VOLTAGE</option>
<option value="39">V_CURRENT</option>
<option value="40">V_RGB</option>
<option value="41">V_RGBW</option>
<option value="42">V_ID</option>
<option value="43">V_UNIT_PREFIX</option>
<option value="44">V_HVAC_SETPOINT_COOL</option>
<option value="45">V_HVAC_SETPOINT_HEAT</option>
<option value="46">V_HVAC_FLOW_MODE</option>
        <select> 
    </div>
</script>

<script type="text/x-red" data-help-name="mysencap">
    <p>Adds extra propperties to the message object, so it conforms to
    mysensor data. Send the resulting message through mysdecenc to convert
    into mysensors serial port protocol format, that can be sent to either a
    mysensors node, or sent off to other things.
    </p>
    <ul>
    <li>nodeId - configurable</li>
    <li>childSensorId - configurable</li>
    <li>messageType - always 1 (set value)</li>
    <li>ack - always 0 (do not request ack)</li>
    <li>subType - configurable</li>
    <li>payload - left untouched</li>
    </ul>
</script>
